var afeb_elementor_players_data=[],afeb_players_timer_countdowns=[];function afebSetCookie(e,a,t=30){let n=new Date;n.setTime(n.getTime()+864e5*t);let i="expires="+n.toUTCString();document.cookie=e+"="+a+";"+i+";path=/"}function adebDeleteCookie(e,a=35){let t=new Date;t.setTime(t.getTime()+-(864e5*a));let n="expires="+t.toUTCString();document.cookie=e+"=;"+n+";path=/"}function afebGetCookie(e){let a=e+"=",t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(a))return i.substring(a.length,i.length)}return""}function afebCheckCookie(e){return""!=afebGetCookie(e)}function audioPlayerForwardTo(e,a,t=0,n=null,i=null,s=null){let o=e.duration();!(a>=o)&&(e.seek(a),null!=n&&null!=i&&null!=s&&(afeb_players_timer_countdowns&&void 0!==afeb_players_timer_countdowns&&void 0!==afeb_players_timer_countdowns["audio_"+s]&&(clearInterval(afeb_players_timer_countdowns["audio_"+s]),afeb_players_timer_countdowns["audio_"+s]=null),(countdown=new eaMSecCountdown(n,t,i,o,s)).start()))}function eaMSecCountdown(e,a,t=null,n=0,i=0){var s={};return s.elem=e,s.player_id=i,s.defelem=t,s.defseconds=n,s.seconds=a,s.totalTime=100*a,s.usedTime=0,s.startTime=+new Date,s.timer=[],s.count=function(){s.usedTime=Math.floor((+new Date-s.startTime)/10);var e=s.totalTime-s.usedTime;if(e<=0||!jQuery(`.afeb-sound-player-${s.player_id} .afeb-sound-btn-pause`).length)clearInterval(s.timer["audio_"+s.player_id]),clearInterval(afeb_players_timer_countdowns["audio_"+s.player_id]),afeb_players_timer_countdowns["audio_"+s.player_id]=null;else{var a=Math.floor(e/6e3),t=Math.floor((e-6e3*a)/100);s.elem&&(s.elem.innerHTML=s.fillZero(a)+":"+s.fillZero(t),"00:00"===s.defelem.innerHTML&&(s.defelem.innerHTML=s.fillZero(a)+":"+s.fillZero(t)))}},s.init=function(){s.timer["audio_"+s.player_id]&&(clearInterval(s.timer["audio_"+s.player_id]),clearInterval(afeb_players_timer_countdowns["audio_"+s.player_id]),afeb_players_timer_countdowns["audio_"+s.player_id]=null,s.elem.innerHTML="00:00",s.totalTime=100*a,s.defelem.innerHTML="00:00",s.usedTime=0,s.startTime=+new Date,s.timer=[],afeb_players_timer_countdowns=[])},s.start=function(){s.timer["audio_"+s.player_id]||(clearInterval(s.timer["audio_"+s.player_id]),clearInterval(afeb_players_timer_countdowns["audio_"+s.player_id]),afeb_players_timer_countdowns["audio_"+s.player_id]=null,s.timer=[],s.timer["audio_"+s.player_id]=setInterval(s.count,1),afeb_players_timer_countdowns["audio_"+s.player_id]=s.timer["audio_"+s.player_id])},s.stop=function(){s.timer["audio_"+s.player_id]&&(clearInterval(s.timer["audio_"+s.player_id]),clearInterval(afeb_players_timer_countdowns["audio_"+s.player_id]),afeb_players_timer_countdowns["audio_"+s.player_id]=null)},s.fillZero=function(e){return e<10?"0"+e:e},s}function eaSetInterval(e,a,t=0){var n={};return n.interval_id=t||1,n.time=a,n.timer=[],n.count=e,n.init=function(){n.timer["interval_"+n.interval_id]&&(clearInterval(n.timer["interval_"+n.interval_id]),n.timer=[])},n.start=function(){n.timer["interval_"+n.interval_id]||(clearInterval(n.timer["interval_"+n.interval_id]),n.timer=[],n.timer["interval_"+n.interval_id]=setInterval(n.count,n.time))},n.stop=function(){n.timer["interval_"+n.interval_id]&&(clearInterval(n.timer["interval_"+n.interval_id]),n.timer=[])},n}function eaClearPlayersIntervals(){jQuery("body").find(".afeb-sound-player").each(function(){afebCheckCookie("player_interval_id_"+jQuery(this).data("player-id"))&&clearInterval(afebGetCookie("player_interval_id_"+jQuery(this).data("player-id"))),afebCheckCookie("player_countdown_id_"+jQuery(this).data("player-id"))&&clearInterval(afebGetCookie("player_countdown_id_"+jQuery(this).data("player-id")))})}jQuery(document).ready(function(e){let a=new Howl({src:[""],preload:!1,autoplay:!1,loop:!1,html5:!0}),t=null,n=[],i=e("body").find(".afeb-sound-player").find(".afeb-sound-btn-playing"),s;a&&a.stop(),e(window).bind("beforeunload",function(){adebDeleteCookie("audio_src"),adebDeleteCookie("audio_hash")}),e(".afeb-sound-player.afeb-has-loader").length>0&&setTimeout(function(){e(".afeb-sound-player.afeb-has-loader").removeClass("afeb-has-loader")},2e3),i.length>0&&i.each(function(a){let t=e(this),n=t.data("player-id"),i=t.data("hash");afeb_elementor_players_data[`player_${n}`]&&!0==afeb_elementor_players_data[`player_${n}`].save_audio||afebSetCookie(`player_${n}_audio_`+i,0)}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-play.afeb-in-playlist",function(n){n.preventDefault();e(this).hasClass("afeb-in-playlist")&&(e("body").find(".afeb-sound-btn-playing").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),a&&(a.stop(),s&&s.stop(),t&&t.stop()))}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-play",function(i){i.preventDefault();let o=e(this),d=o.data("player-id"),l=o.data("title"),r=o.data("subtitle"),b=o.data("cover"),u=o.data("length"),w=o.data("duration"),p=e("body").find(`.afeb-sound-player-${d}`),y=p.find('.afeb-sound-timer-line input[type="range"]'),c=o.data("audio"),f,m,h,v,$,C;if(a.off(),s&&s.stop(),t&&t.stop(),c&&void 0!==c){if(a.stop(),e("body").find(".afeb-sound-player .afeb-sound-btn-pause").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),e("body").find(".afeb-sound-player.afeb-is-playing").removeClass("afeb-is-playing"),p.addClass("afeb-is-playing"),p.find(".afeb-sound-timer-wrap").attr("id",`afeb-timer-progress-${d}-`+o.data("hash")),"00:00"==e(`.afeb-sound-player-${d} #afeb-timer-progress-${d}-${o.data("hash")} .afeb-sound-timer-down`).text()&&null!==t&&t.init(),p.find(".afeb-sound-player-content .afeb-sound-title").text(l),p.find(".afeb-sound-player-content .afeb-sound-subtitle").text(r),p.find(".afeb-sound-player-content .afeb-sound-btn-download").attr("href",c),p.find(".afeb-player-share-buttons-content a, .afeb-sound-player-content .afeb-sound-btn-playing, .afeb-sound-player-content .afeb-sound-btn-sec-prev, .afeb-sound-player-content .afeb-sound-btn-sec-next, .afeb-sound-player-content .afeb-sound-player-range, .afeb-sound-player-content .afeb-sound-timer-line .afeb-stl").data({title:l,subtitle:r,cover:b,length:u,duration:w,audio:c,hash:o.data("hash")}),o.hasClass("afeb-in-playlist")){let g=o.data("item-id"),k=p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item"),_=p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item.afeb-active");e("body").find(".afeb-sound-player .afeb-sound-player-playlist .afeb-sound-playlist-item").removeClass("afeb-active"),e("body").find(".afeb-sound-player .afeb-sound-player-playlist .afeb-sound-playlist-item-"+g).addClass("afeb-active"),_.length>0&&(k.last().hasClass("afeb-active")?p.find(".afeb-sound-btn-next").addClass("afeb-btn-disabled"):p.find(".afeb-sound-btn-next").removeClass("afeb-btn-disabled"),p.find(".afeb-sound-btn-prev").removeClass("afeb-btn-disabled"),k.first().hasClass("afeb-active")&&p.find(".afeb-sound-btn-prev").addClass("afeb-btn-disabled")),p.find(".afeb-sound-player-content .afeb-sound-btn-playing.afeb-in-content").removeClass("afeb-sound-btn-play").addClass("afeb-sound-btn-pause")}else p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item").length>0&&(p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item-"+o.data("hash"))?p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item-"+o.data("hash")).first().addClass("afeb-active"):p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item.afeb-active").length||p.find(".afeb-sound-player-playlist .afeb-sound-playlist-item").first().addClass("afeb-active"),e("body").find(".afeb-sound-player .afeb-sound-player-playlist .afeb-sound-btn-playing").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),p.find(".afeb-sound-player-content .afeb-sound-btn-playing").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),p.find(`.afeb-sound-player-playlist .afeb-sound-playlist-item .afeb-sound-btn-play[data-hash="${o.data("hash")}"]`).first().addClass("afeb-sound-btn-pause").removeClass("afeb-sound-btn-play"));void 0!==s&&s.init(),n=[],p.find(".afeb-sound-timer-wrap").trigger("change"),f=`player_${d}_audio_`+o.data("hash"),$=p.find(`#afeb-timer-progress-${d}-${o.data("hash")} .afeb-sound-timer-progress`);let S="true"==afebGetCookie("audio_end")||afebGetCookie("player_id")!=d||afebGetCookie("audio_src")!=c&&afebGetCookie("audio_hash")!=o.data("hash");S&&(h=a.seek(),a.unload(),a._src=c,a.load()),a.on(),afebSetCookie("audio_end",!1),afebSetCookie("player_id",d),afebSetCookie("audio_src",c),afebSetCookie("audio_hash",o.data("hash")),v=a.duration(),(m=isNaN(m=afebGetCookie(f))||void 0===m?h:m)?a.seek(m):m>0&&a.seek(m),afebSetCookie(f,m),a.play();let T=function(){w=w&&void 0!==w?w:a.duration(),o.removeClass("afeb-sound-btn-play").addClass("afeb-sound-btn-pause");let n=document.querySelector(`.afeb-sound-player-${d} #afeb-timer-progress-${d}-${o.data("hash")} .afeb-sound-timer-down`),i=document.querySelector(`.afeb-sound-player-${d} #afeb-timer-progress-${d}-${o.data("hash")} .afeb-sound-timer-default`);(s=eaSetInterval(function(){if(h=a.seek(),afebSetCookie(f,a.seek()),(m=afebGetCookie(f))<=0)return!1;C=afebGetCookie(`player_${d}_audio_duration_`+o.data("hash")),progressLineWidth=parseInt($.get(0).style.width),$.parent().parent().find(".afeb-sound-timer-line .afeb-stl").css("width",afebGetCookie(f)/C*100+"%"),$.css("width",afebGetCookie(f)/C*100+"%"),y.val(afebGetCookie(f)/C*100),afebSetCookie(`player_${d}_audio_duration_`+o.data("hash"),w),setTimeout(function(){let s=e("body").find(`.afeb-sound-player-${d}`),l=s.find(".afeb-sound-btn-play");0==s.length&&a.stop(),l.length>0&&"00:00"==s.find(".afeb-sound-timer-down").text().trim()&&l.click(),C=afebGetCookie(`player_${d}_audio_duration_`+o.data("hash")),afeb_players_timer_countdowns&&void 0!==afeb_players_timer_countdowns&&void 0!==afeb_players_timer_countdowns["audio_"+d]&&clearInterval(afeb_players_timer_countdowns["audio_"+d]),(t=new eaMSecCountdown(n,C-m,i,C,d)).start(),afebSetCookie("player_countdown_id_"+d,t.timer["audio_"+d])},320),(99==progressLineWidth||100==progressLineWidth)&&(o.removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),e("body").find(".afeb-sound-player .afeb-sound-player-playlist .afeb-sound-btn-playing, .afeb-sound-player .afeb-sound-player-content .afeb-sound-btn-playing").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),adebDeleteCookie(f),adebDeleteCookie(`player_${d}_audio_duration_`+o.data("hash")),$.parent().parent().find(".afeb-sound-timer-line .afeb-stl").css("width","0%"),$.css("width","0%"),y.val(0),a.stop(),a.off(),adebDeleteCookie("audio_src"),adebDeleteCookie("audio_hash"),afebSetCookie("audio_end",!0),null!==t&&t.init(),s&&s.init(),a.unload())},300,d)).start(),b&&void 0!==b&&p.find(".afeb-sound-pri-cover").css("background-image",`url(${b})`),u&&void 0!==u&&p.find(".afeb-sound-timer-default").text(u),afebSetCookie("player_interval_id_"+d,s.timer["interval_"+d])};S?a.on("play",T):a.once("play",T),a.on("playerror",function(e){o.addClass("afeb-shake-animation"),setTimeout(()=>{o.removeClass("afeb-shake-animation")},1e3)})}}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-pause",function(n){n.preventDefault();let i=e(this),o=i.data("player-id"),d=i.data("hash"),l=e("body").find(`.afeb-sound-player-${o}`);a.pause(),i.removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),e("body").find(".afeb-sound-player.afeb-is-playing").removeClass("afeb-is-playing"),i.hasClass("afeb-in-content")||l.find(".afeb-sound-player-content .afeb-sound-btn-playing").removeClass("afeb-sound-btn-pause").addClass("afeb-sound-btn-play"),i.hasClass("afeb-in-content")&&!l.find(".afeb-sound-player-playlist .afeb-sound-playlist-item").length&&l.find(".afeb-sound-player-playlist .afeb-sound-playlist-item").removeClass("afeb-active"),i.hasClass("afeb-in-content")&&e("body").find(`.afeb-sound-player-playlist .afeb-sound-playlist-item.afeb-active .afeb-sound-btn-pause[data-hash="${d}"]`).addClass("afeb-sound-btn-play").removeClass("afeb-sound-btn-pause"),null!==t&&t.stop(),s&&s.init()}),e("body").on("input",'.afeb-sound-player .afeb-sound-timer-line input[type="range"]',function(n){let i=e(this),o=i.data("player-id"),d=e("body").find(`.afeb-sound-player-${o}`).find(`#afeb-timer-progress-${o}-${i.data("hash")} .afeb-sound-timer-progress`),l=a.duration(),r=`player_${o}_audio_`+i.data("hash"),b=(i.val()*l/100).toFixed(2);if(b/l*100>99)return!1;a.playing()&&(s.stop(),t.stop(),a.pause()),afebSetCookie(r,b),a.seek(b),d.parent().parent().find(".afeb-sound-timer-line .afeb-stl").css("width",b/l*100+"%"),d.css("width",b/l*100+"%")}),e("body").on("change",'.afeb-sound-player .afeb-sound-timer-line input[type="range"]',function(n){let i=e(this),o=a.duration(),d=(i.val()*o/100).toFixed(2),l=i.data("player-id");if(d/o*100>99)return!1;e("body").find(`.afeb-sound-player-${l} .afeb-sound-player-content .afeb-sound-btn-pause`).length>0&&(a.play(),s.start(),t.start())}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-sec-next",function(n){n.preventDefault();let i=e(this),s=i.data("player-id"),o=a.pause()._sounds[0]._seek+30,d=(document.querySelector(`.afeb-sound-player-${s} #afeb-timer-progress-${s}-${i.data("hash")} .afeb-sound-timer-down`),document.querySelector(`.afeb-sound-player-${s} #afeb-timer-progress-${s}-${i.data("hash")} .afeb-sound-timer-default`),`player_${s}_audio_`+i.data("hash"));i.data("hash"),afebSetCookie(d,o),audioPlayerForwardTo(a,o),e("body").find(`.afeb-sound-player-${s} .afeb-sound-player-content .afeb-sound-btn-pause`).length>0&&(a.play(),t.start())}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-sec-prev",function(t){t.preventDefault();let n=e(this),i=n.data("player-id"),s=a.pause()._sounds[0]._seek-30,o=(document.querySelector(`.afeb-sound-player-${i} #afeb-timer-progress-${i}-${n.data("hash")} .afeb-sound-timer-down`),document.querySelector(`.afeb-sound-player-${i} #afeb-timer-progress-${i}-${n.data("hash")} .afeb-sound-timer-default`),`player_${i}_audio_`+n.data("hash"));n.data("hash"),afebSetCookie(o,s),audioPlayerForwardTo(a,s),e("body").find(`.afeb-sound-player-${i} .afeb-sound-player-content .afeb-sound-btn-pause`).length>0&&a.play()}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-share",function(a){a.preventDefault();let t=e(this),n=t.data("player-id"),i=t.data("item-id"),s;t.hasClass("afeb-sound-btn-share-in-playlist")?s=e("body").find(`.afeb-sound-player-${n} .afeb-sound-player-playlist .afeb-sound-player-share-buttons-`+i).first():(s=e("body").find(`.afeb-sound-player-${n} .afeb-sound-player-content .afeb-sound-player-share-buttons`)).parent().addClass("afeb-opened-overlay"),s.slideToggle()}),e("body").on("click",".afeb-sound-player .afeb-share-close",function(a){a.preventDefault();let t=e(this),n=t.data("player-id");(t.data("item-id"),e("body").find(`.afeb-sound-player-${n} .afeb-sound-player-content`)).removeClass("afeb-opened-overlay"),t.parent().parent().slideUp()}),e("body").on("click",".afeb-sound-player .afeb-sound-player-content .afeb-player-share-buttons-content a",function(a){let t=e(this),n=t.data("pattern"),i=t.data("title"),s=t.data("subtitle"),o=t.data("audio"),d;void 0!==n&&void 0!==i&&void 0!==s&&void 0!==o&&(a.preventDefault(),d=(d=n.replace("{{url}}",o)).replace("{{title}}",i+" / "+s),t.attr("href",d),window.open(d,"_blank"))}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-playlist",function(a){a.preventDefault();let t=e(this).data("player-id");e("body").find(`.afeb-sound-player-${t} .afeb-sound-player-playlist`).slideToggle()}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-next",function(a){a.preventDefault();let t=e(this),n=t.data("player-id"),i=e("body").find(`.afeb-sound-player-${n}`),s=e("body").find(`.afeb-sound-player-${n} .afeb-sound-player-playlist`);s.find(".afeb-sound-playlist-item").last().hasClass("afeb-active")||(s.find(".afeb-sound-playlist-item.afeb-active").length>0?(s.find(".afeb-sound-playlist-item.afeb-active").next().addClass("afeb-active"),s.find(".afeb-sound-playlist-item.afeb-active").prev().removeClass("afeb-active")):s.find(".afeb-sound-playlist-item").first().addClass("afeb-active")),s.find(".afeb-sound-playlist-item.afeb-active").length>0&&i.find(".afeb-sound-btn-prev").removeClass("afeb-btn-disabled"),s.find(".afeb-sound-playlist-item").last().hasClass("afeb-active")&&t.addClass("afeb-btn-disabled"),s.find(".afeb-sound-playlist-item.afeb-active .afeb-sound-btn-playing").length>0&&(s.find(".afeb-sound-playlist-item .afeb-sound-btn-pause").trigger("click"),adebDeleteCookie("audio_src"),adebDeleteCookie("audio_hash"),s.find(".afeb-sound-playlist-item.afeb-active .afeb-sound-btn-playing").trigger("click"))}),e("body").on("click",".afeb-sound-player .afeb-sound-btn-prev",function(a){a.preventDefault();let t=e(this).data("player-id"),n=e("body").find(`.afeb-sound-player-${t}`),i=e("body").find(`.afeb-sound-player-${t} .afeb-sound-player-playlist`);!i.find(".afeb-sound-playlist-item").first().hasClass("afeb-active")&&i.find(".afeb-sound-playlist-item.afeb-active").length>0&&(i.find(".afeb-sound-playlist-item.afeb-active").prev().addClass("afeb-active"),i.find(".afeb-sound-playlist-item.afeb-active").next().removeClass("afeb-active")),i.find(".afeb-sound-playlist-item").first().hasClass("afeb-active")?(n.find(".afeb-sound-btn-next").removeClass("afeb-btn-disabled"),i.find(".afeb-sound-playlist-item .afeb-sound-btn-pause").trigger("click"),i.find(".afeb-sound-playlist-item.afeb-active .afeb-sound-btn-playing").trigger("click"),n.find(".afeb-sound-btn-prev").addClass("afeb-btn-disabled"),adebDeleteCookie("audio_src"),adebDeleteCookie("audio_hash")):(i.find(".afeb-sound-playlist-item .afeb-sound-btn-pause").trigger("click"),i.find(".afeb-sound-playlist-item.active .afeb-sound-btn-playing").length>0&&(i.find(".afeb-sound-playlist-item.afeb-active .afeb-sound-btn-playing").trigger("click"),adebDeleteCookie("audio_src"),adebDeleteCookie("audio_hash")))}),e("body").on("input",'.afeb-sound-player-1 .afeb-sound-volume input[type="range"]',function(){let t=e(this),n=t.parent().parent().find("i"),i=t.val();i>50?n.attr("class","fas fa-volume-up"):i<=0?n.attr("class","fas fa-volume-mute"):i<=50&&n.attr("class","fas fa-volume-down"),a.volume(i/100)}),e("body").on("click",".afeb-sound-player-1 .afeb-sound-speed .afeb-sound-speed-box .afeb-speed-item",function(){let t=e(this),n=t.data("value");t.parent().find(".afeb-active").removeClass("afeb-active"),t.addClass("afeb-active"),a.rate(n)})});